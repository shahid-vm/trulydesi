{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}

{{ 'component-slider.css' | asset_url | stylesheet_tag }}
{{ 'template-collection.css' | asset_url | stylesheet_tag }}
<style>
  .collectionTabLabel {
    margin-bottom: 2rem !important;
}
  li.tab-title a {
      color: #000;
      font-weight: 600;
  }
  .new-badge {
    --f: .5em;
    --r: .8em;
    z-index: 9;
    position: absolute;
    top: 12px;
    left: calc(-1* var(--f));
    padding-inline: .25em;
    padding-right: .5em !important;
    padding-left: .5em !important;
    line-height: 1.8;
    background: #4f872e;
    border-bottom: var(--f) solid #0005;
    border-right: var(--r) solid #0000;
    clip-path: polygon(0 0, 0 calc(100% - var(--f)), var(--f) 100%, var(--f) calc(100% - var(--f)), 100% calc(100% - var(--f)), calc(100% - var(--r)) calc(50% - var(--f) / 2), 100% 0);
}
   .home-tab {
    text-align: center;
    padding: 32px 0;
  }
  .home-tab ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  .collectionsProducts {
    display: none;
  }
  .collection_tab_heading li a {
    text-transform: capitalize;
  }
  .collection_tab_heading li.activeTab a {
   color: #4F872E;
    font-weight: 600;
  }
  .collection_tab_heading li.swiper-slide:first-child,
  .collection_tab_heading li.swiper-slide:nth-child(2n) {
    width: fit-content !important;
  }
  ul.collection_tab_heading {
    display: -webkit-inline-box;
    overflow-x: auto;
    width: 100%;
    padding-bottom:1rem
  }
  .collection_tab_heading li {
    padding: 0 1.5rem;
  }
  .collection_tab_heading li:first-child {
    padding-left: 0;
  }
  .collection_tab_heading li:last-child {
    padding-right: 0;
  }
  .swiper-scrollbar.swiper-scrollbar-horizontal {
    display: none;
  }
  ul.collection_tab_heading::-webkit-scrollbar {
    height:3px;
  }
  ul.collection_tab_heading::-webkit-scrollbar-thumb  {
     background:#4F872E;
  }
  .collectionsProducts a.green-btn:hover{
    text-decoration:underline;
  }
  svg.placeholder-svg {
    width: 100%;
  }
  .collectionImg img {
    width: 100%;
        display: flex;
  }
  
   .CollectionP-content{
     line-height: 18px;
    padding:1.2rem 1.5rem 2.5rem;
  }
    .CollectionP-content > h3 {
    line-height: 2.7rem;
    font-size: 1.8rem;  
    min-height: 54px;   
  }
    .CollectionP-content h3 a {
    font-size: 1.8rem;   
  }
  .CollectionP-content span.f-p-description {
    font-size: 1.4rem;
    line-height: 18px;
    display:block;
    padding:1rem 0;
  }
  .price-with-btn{
   display:block;
    justify-content:space-between;
    align-items: center;
    margin: 0.5rem 0 0rem;
    width:100%;
   }
  .price-with-btn .price{
  text-align: center;
   }
    .CollectionProduct .price-with-btn .price-item{
     font-size:1.8rem;
   }
  .CollectionProduct .price--on-sale .price__sale{
    gap:0.6rem;
  } 
 .CollectionProduct .compare-price, .CollectionProduct s.price-item.price-item--regular {
    font-size: 1.1rem;
}
  .CollectionProduct span.discount-label.font-heading{
    display:none;
 }

  .price-with-btn > div{
    flex:50%;
  }
  @media screen and (min-width:768px) {
    .collection_tab_heading li.activeTab a,
  .collection_tab_heading li a:hover {
   border-bottom: 1.9px solid #4F872E;
  }
    .price-with-btn > div {
        flex: 100%;
        display: flex;
        justify-content: center;
  }   
    .home-tab {
      padding: 50px 0 50px;
    }
    .collectionsProducts ul {
      padding-bottom: 4rem;
      justify-content: space-between;
    }
    .collectionsProducts a.green-btn {
      width: 150px;
    }
    ul.collection_tab_heading {
      display: flex;
      justify-content: center;
      gap: 5rem;
      align-items: center;
      padding-bottom:0;
    }
    .collection_tab_heading li a {
      font-size:2rem;
    }
    CollectionProduct{
      margin:0;
    }
    .CollectionProduct .price-with-btn .price-item{
     font-size:2rem;
     }   
     .CollectionProduct .compare-price, .CollectionProduct s.price-item.price-item--regular {
        font-size: 1.2rem;
    }
    .collectionsProducts ul li {
      width:24% !important;
      margin-right: 0px !important;
    }
    .collectionsProducts  ul li:hover  .CollectionProduct .quick-add {
      display:flex;
    }
  }
.collectionsProducts ul li {
  box-shadow: 0 3px 10px #eee;
  border: 1px solid #eee;
}
@media screen and (max-width: 767px){
  .collectionsProducts ul {
    padding: 1rem;
  }
}
</style>
<div class="home-tab color-{{ section.settings.color_scheme }} gradient">
  <h2 class="homepage_h2">
    {{ section.settings.title | escape }}
  </h2>
  <div class="coll-desc">
  {{ section.settings.coll-desc }}
  </div>
  <div class="collection_tabs page-width">
    <div class="collectionTabLabel">
      <ul class="collection_tab_heading">
        {% for block in section.blocks %}
          <li class="tab-title {% if forloop.index == 1 %}activeTab{% endif %}">
            <a href="#tab{{ forloop.index }}">{{ block.settings.tabLabel }}</a>
          </li>
        {% endfor %}
      </ul>
    </div>
    <div class="tab-content">
      {% for block in section.blocks %}
        <div
          id="tab{{ forloop.index }}"
          class="swiper collectionsProducts"
          {% if forloop.index == 1 %}style="display:block"{% endif %}>
          <ul class="swiper-wrapper">
            {% for product in block.settings.collection.products limit: 4 -%}
              <li
                id="Slide-{{ section.id }}-{{ forloop.index }} "
                class="swiper-slide {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
              >
                <div class="CollectionProduct">                    
                   {% render 'card-product',
                    card_product: product,
                    media_aspect_ratio: section.settings.image_ratio,
                    image_shape: section.settings.image_shape,
                    show_secondary_image: section.settings.show_secondary_image,
                    show_vendor: section.settings.show_vendor,
                    show_rating: section.settings.show_rating,
                    lazy_load: lazy_load,
                    show_quick_add: section.settings.enable_quick_add,
                    section_id: section.id
                  %}
              
                </div>             
              </li> 
            {%- endfor -%}
          </ul>
          <div class="swiper-scrollbar"></div>
          <a class="green-btn" href="{{ block.settings.Collection-url }}">View All</a>
        </div>

      {%- endfor -%}
    </div>
  </div>
</div>
<script>
  $(document).ready(function() {
    $('.collection_tabs .collection_tab_heading a').on('click', function(e) {
      var currentAttrValue = $(this).attr('href');

// Show/Hide collection_tabs
      $('.collection_tabs ' + currentAttrValue).fadeIn(400).siblings().hide();

// Change/remove current tab to active_collection
      $(this)
        .parent('li')
        .addClass('activeTab')
        .siblings()
        .removeClass('activeTab');
      e.preventDefault();
    });
  });
</script>
<script>
  $(document).ready(function() {
    var swiper = new Swiper(".collectionsProducts", {
      slidesPerView: 1,
      freeMode: false,
      rewind: false,
      spaceBetween: 20,
      scrollbar: {
        el: '.swiper-scrollbar',
        hide: true
      },
      breakpoints: {
        320: {
          rewind: false,
          slidesPerView: 1.3,
          spaceBetween: 10
        },
        640: {
          rewind: false,
          slidesPerView: 1.3,
          spaceBetween: 10
        },
        768: {
          rewind: false,
          slidesPerView: 2,
          spaceBetween: 20
        },
        1024: {
          rewind: false,
          slidesPerView: 4,
          spaceBetween: 60
        }
      }
    });

  });
</script>
<script>
    $(document).ready(function () {
       $('.product-variant-select').change(function () {
    const selectedOption = $(this).find(':selected');
    let regularPrice = selectedOption.data('regularprice'); // Use 'let' to reassign the value
    if (regularPrice.endsWith(".00")) {
        regularPrice = regularPrice.slice(0, -3); // Correct the slicing
    }
    const comparePrice = selectedOption.data('compareprice');
    $(this).parents('.swiper-slide').find('.price-item--regular').text( regularPrice); // Add ₹ symbol here
    $(this).parents('.swiper-slide').find('.price-item--sale').text(comparePrice || regularPrice); // Add ₹ symbol here
   // alert( regularPrice); // Add ₹ symbol here
});

    });
</script>
{% schema %}
  {
    "name": "Collection Tab",
    "settings": [
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "background-1"
      }, {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "richtext",
        "id": "coll-desc",
        "label": "Description"
      },
      {
      "type": "checkbox",
      "id": "show_rating",
      "default": false,
      "label": "t:sections.featured-collection.settings.show_rating.label",
      "info": "t:sections.featured-collection.settings.show_rating.info"
    },
    {
      "type": "checkbox",
      "id": "enable_quick_add",
      "default": false,
      "label": "t:sections.featured-collection.settings.enable_quick_buy.label"
    }
    ],
    "blocks": [
      {
        "name": "Choose collection",
        "type": "Collection",
        "settings": [
          {
            "type": "text",
            "id": "tabLabel",
            "label": "Collection Tab Label"
          }, {
            "type": "collection",
            "id": "collection",
            "label": "Select Collection"
          }, {
            "type": "url",
            "id": "Collection-url",
            "label": "View all button Url"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Collection Tab"

      }
    ]
  }
{% endschema %}